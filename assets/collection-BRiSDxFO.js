import{g as N,j as e}from"./home-DejQpaHf.js";import{a as l,L as j}from"./react-vendor-CvhVKL8b.js";async function f(s,i){try{const n=(s-1)*i+1,d=n+i,o=[];for(let t=n;t<d;t++)t<=3200&&o.push({id:t.toString(),name:`Koby #${t}`,image:N(`/images/nfts/${t}.png`),description:`32x32 Pixel Unique NFT Collection - Koby #${t}`,attributes:[{trait_type:"Base",value:"Purple"},{trait_type:"Suit",value:"Scarf Stripped Yellow"},{trait_type:"Mouth",value:"Flat"},{trait_type:"Eyes",value:"Round Glass green"},{trait_type:"Head",value:"Beret Blue"}]});return o}catch(n){throw console.error("Error loading NFT metadata chunk:",n),new Error("Failed to load NFT metadata")}}const S=({src:s,alt:i,className:n})=>{const[d,o]=l.useState(!0);return e.jsxs("div",{className:"relative w-full h-full",children:[d&&e.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse rounded-lg"}),e.jsx("img",{src:s,alt:i,className:n,loading:"lazy",onLoad:()=>o(!1),onError:t=>{o(!1),t.currentTarget.src=N("images/placeholder.png")}})]})},F=({nft:s})=>e.jsxs(j,{to:`/nft/${s.id}`,className:"bg-white rounded-lg overflow-hidden border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] sm:shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] hover:translate-y-1 transition-transform",children:[e.jsx("div",{className:"aspect-square bg-gray-100",children:e.jsx(S,{src:s.image,alt:s.name,className:"w-full h-full object-cover"})}),e.jsx("div",{className:"p-2 sm:p-4",children:e.jsx("h3",{className:"font-bold text-sm sm:text-lg",children:s.name})})]}),C=()=>{const[s,i]=l.useState([]),[n,d]=l.useState(!0),[o,t]=l.useState(!0),[x,m]=l.useState(!1),[p,u]=l.useState(null),[c,y]=l.useState(""),[v,g]=l.useState(1),h=24;l.useEffect(()=>{(async()=>{try{d(!0);const r=await f(1,h);i(r)}catch{u("Failed to load NFTs")}finally{d(!1),t(!1)}})()},[]);const b=s.filter(a=>{if(!c)return!0;const r=parseInt(c);return isNaN(r)?a.name.toLowerCase().includes(c.toLowerCase()):a.id===r.toString()||a.name.includes(r.toString())}),w=s.length<3200,_=a=>{y(a.target.value),g(1)},k=async()=>{if(!x)try{m(!0);const a=await f(v+1,h);i(r=>[...r,...a]),g(r=>r+1)}catch{u("Failed to load more NFTs")}finally{m(!1)}};return o&&n?e.jsx("div",{className:"min-h-screen bg-green-500 flex items-center justify-center",children:e.jsx("div",{className:"bg-white p-6 rounded-lg border-2 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] animate-pulse",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full animate-bounce"}),e.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full animate-bounce delay-100"}),e.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full animate-bounce delay-200"})]})})}):p?e.jsx("div",{className:"min-h-screen bg-green-500 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg border-2 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:[e.jsx("p",{className:"text-red-500",children:p}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-lime-300 px-4 py-2 rounded-lg border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-y-1 transition-transform",children:"Retry"})]})}):e.jsxs("div",{className:"w-full min-h-screen flex flex-col bg-green-500",children:[e.jsx("section",{className:"bg-green-600 p-4 sm:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex items-center gap-4 mb-4 sm:mb-8",children:e.jsx(j,{to:"/",children:e.jsx("div",{className:"bg-lime-300 px-4 py-2 sm:px-6 sm:py-3 rounded-lg border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-y-1 transition-transform",children:e.jsx("h1",{className:"text-xl sm:text-2xl font-pixel text-black tracking-wider",children:"RETRO"})})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl sm:text-5xl font-pixel mb-2 sm:mb-4 text-white",children:"Koby Collection"}),e.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"3,200 Unique Pixel Art Characters"})]})]})}),e.jsx("section",{className:"flex-grow p-4 sm:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-white p-3 sm:p-4 rounded-lg border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] sm:shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] mb-6 sm:mb-8",children:e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"Search by name or ID...",value:c,onChange:_,className:"w-full p-2 sm:p-3 bg-gray-900 text-white placeholder-gray-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-300 text-sm sm:text-base"})})}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4",children:e.jsx(l.Suspense,{fallback:null,children:b.map(a=>e.jsx(F,{nft:a},a.id))})}),!c&&w&&e.jsx("div",{className:"text-center mt-8 sm:mt-12 mb-4 sm:mb-8",children:e.jsx("button",{onClick:k,disabled:x,className:`bg-lime-300 px-6 sm:px-8 py-2 sm:py-3 rounded-lg border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-y-1 transition-transform text-sm sm:text-base font-bold ${x?"opacity-50 cursor-not-allowed":""}`,children:x?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Loading"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-black rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-black rounded-full animate-bounce delay-100"}),e.jsx("div",{className:"w-2 h-2 bg-black rounded-full animate-bounce delay-200"})]})]}):`Load More (${s.length} of 3200)`})}),b.length===0&&e.jsx("div",{className:"text-center py-8 sm:py-12",children:e.jsxs("p",{className:"text-white text-lg sm:text-xl",children:['No NFTs found for "',c,'"']})})]})})]})};export{C as default};

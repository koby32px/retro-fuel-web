import{j as e}from"./home-CuNFyqFH.js";import{a as d,L as w}from"./react-vendor-CvhVKL8b.js";const E="modulepreload",k=function(i){return"/retro-fuel-web/"+i},N={},T=function(m,o,u){let h=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),s=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));h=Promise.allSettled(o.map(n=>{if(n=k(n),n in N)return;N[n]=!0;const x=n.endsWith(".css"),c=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${c}`))return;const l=document.createElement("link");if(l.rel=x?"stylesheet":E,x||(l.as="script"),l.crossOrigin="",l.href=n,s&&l.setAttribute("nonce",s),document.head.appendChild(l),x)return new Promise((b,g)=>{l.addEventListener("load",b),l.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${n}`)))})}))}function p(t){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=t,window.dispatchEvent(s),!s.defaultPrevented)throw t}return h.then(t=>{for(const s of t||[])s.status==="rejected"&&p(s.reason);return m().catch(p)})};async function j(i,m){try{const{nftsMetadata:o}=await T(async()=>{const{nftsMetadata:h}=await import("./nft-metadata-BNVbi9ot.js");return{nftsMetadata:h}},[]),u=(i-1)*m;return o.slice(u,u+m)}catch(o){throw console.error("Error loading NFT metadata chunk:",o),new Error("Failed to load NFT metadata")}}const L=()=>{const[i,m]=d.useState([]),[o,u]=d.useState(!0),[h,p]=d.useState(!0),[t,s]=d.useState(!1),[n,x]=d.useState(null),[c,l]=d.useState(""),[b,g]=d.useState(1),f=24;d.useEffect(()=>{(async()=>{try{u(!0);const a=await j(1,f);m(a)}catch{x("Failed to load NFTs")}finally{u(!1),p(!1)}})()},[]);const _=i.filter(r=>{if(!c)return!0;const a=parseInt(c);return isNaN(a)?r.name.toLowerCase().includes(c.toLowerCase()):r.id===a.toString()||r.name.includes(a.toString())}),y=i.length<3200,v=r=>{l(r.target.value),g(1)},S=async()=>{if(!t)try{s(!0);const r=await j(b+1,f);m(a=>[...a,...r]),g(a=>a+1)}catch{x("Failed to load more NFTs")}finally{s(!1)}};return h&&o?e.jsx("div",{className:"min-h-screen bg-green-500 flex items-center justify-center",children:e.jsx("div",{className:"bg-white p-6 rounded-lg border-2 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] animate-pulse",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full animate-bounce"}),e.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full animate-bounce delay-100"}),e.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full animate-bounce delay-200"})]})})}):n?e.jsx("div",{className:"min-h-screen bg-green-500 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg border-2 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:[e.jsx("p",{className:"text-red-500",children:n}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-lime-300 px-4 py-2 rounded-lg border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-y-1 transition-transform",children:"Retry"})]})}):e.jsxs("div",{className:"w-full min-h-screen flex flex-col bg-green-500",children:[e.jsx("section",{className:"bg-green-600 p-4 sm:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex items-center gap-4 mb-4 sm:mb-8",children:e.jsx(w,{to:"/",children:e.jsx("div",{className:"bg-lime-300 px-4 py-2 sm:px-6 sm:py-3 rounded-lg border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-y-1 transition-transform",children:e.jsx("h1",{className:"text-xl sm:text-2xl font-pixel text-black tracking-wider",children:"RETRO"})})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl sm:text-5xl font-pixel mb-2 sm:mb-4 text-white",children:"Koby Collection"}),e.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"3,200 Unique Pixel Art Characters"})]})]})}),e.jsx("section",{className:"flex-grow p-4 sm:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-white p-3 sm:p-4 rounded-lg border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] sm:shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] mb-6 sm:mb-8",children:e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"Search by name or ID...",value:c,onChange:v,className:"w-full p-2 sm:p-3 bg-gray-900 text-white placeholder-gray-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-300 text-sm sm:text-base"})})}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4",children:_.map(r=>e.jsxs(w,{to:`/nft/${r.id}`,className:"bg-white rounded-lg overflow-hidden border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] sm:shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] hover:translate-y-1 transition-transform",children:[e.jsx("div",{className:"aspect-square bg-gray-100",children:e.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover",onError:a=>{a.currentTarget.src="/images/placeholder.png"}})}),e.jsx("div",{className:"p-2 sm:p-4",children:e.jsx("h3",{className:"font-bold text-sm sm:text-lg",children:r.name})})]},r.id))}),!c&&y&&e.jsx("div",{className:"text-center mt-8 sm:mt-12 mb-4 sm:mb-8",children:e.jsx("button",{onClick:S,disabled:t,className:`bg-lime-300 px-6 sm:px-8 py-2 sm:py-3 rounded-lg border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-y-1 transition-transform text-sm sm:text-base font-bold ${t?"opacity-50 cursor-not-allowed":""}`,children:t?"Loading...":`Load More (${i.length} of 3200)`})}),_.length===0&&e.jsx("div",{className:"text-center py-8 sm:py-12",children:e.jsxs("p",{className:"text-white text-lg sm:text-xl",children:['No NFTs found for "',c,'"']})})]})})]})},P=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"}));export{P as C,T as _};
